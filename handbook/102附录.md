# 附录：自动赋值

groovy

```groovy
import com.intland.codebeamer.controller.TrackerItemController
import com.intland.codebeamer.controller.QueriesController
import com.intland.codebeamer.event.util.VetoException

if(!beforeEvent) return

def controller = applicationContext.getBean(TrackerItemController.class)
def queries = applicationContext.getBean(QueriesController.class)

// 1. 获取问题关联的条目
def item = subject.subjects[0]
item = controller.getTrackerItem(event.request, item.id)

// 2. 从问题关联的条目上获取评审对象
def /*QueriesResult*/ result = queries.executeQueryByQueryString(event.request, /*pageNo*/ 1, /*pagesize*/ 1, /*queryString*/ "tracker.id IN (4424) AND 'status' IN ('评委初审','主审人
终审') AND SubjectID IN (${item.id})")

if(result.trackerItems.fullListSize == 0) throw new VetoException("不存在正在进行中的评审，拒绝创建问题。") 

def /*TrackerItemDto*/ review = result.trackerItems.typedList[0]

// 3. 为当前问题设置评审对象
subject.setChoiceList(0, [review])

// 4. 为当前问题设置解决人
subject.assignedTo = item.assignedTo
```

